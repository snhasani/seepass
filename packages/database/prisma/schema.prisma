datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model PatternRecord {
  id          String   @id @default(uuid())
  scenario    String
  entityType  String   @map("entity_type")
  entityKey   String   @map("entity_key")
  windowStart DateTime @map("window_start") @db.Date
  windowEnd   DateTime @map("window_end") @db.Date
  score       Float
  record      Json
  createdAt   DateTime @default(now()) @map("created_at")

  @@map("pattern_records")
  @@index([entityType, windowEnd])
  @@index([scenario])
  @@index([entityKey])
  @@index([windowStart, windowEnd])
}
